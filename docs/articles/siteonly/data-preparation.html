<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Local data preparation • pacta</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Local data preparation">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">pacta</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/siteonly/data-matching.html">Data matching</a>
    </li>
    <li>
      <a href="../../articles/siteonly/data-preparation.html">Local data preparation</a>
    </li>
    <li>
      <a href="../../articles/siteonly/mauro-review.html">Mauro's review</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/2DegreesInvesting/pacta">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Local data preparation</h1>
                        <h4 class="author">Evgeny Petrovskiy</h4>
            
            <h4 class="date">2019-05-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/pacta/blob/master/vignettes/siteonly/data-preparation.Rmd"><code>vignettes/siteonly/data-preparation.Rmd</code></a></small>
      <div class="hidden name"><code>data-preparation.Rmd</code></div>

    </div>

    
    
<p>Local data prepoaration is first and important step in loan portfolio alignment analysis. Standard workflow sets minimum requirements for data provided by institution. This minimum set of attributes makes matching and analysis possible. Requirements define set of necessary attributes, their names and values (for some of them).</p>
<div id="process-overview" class="section level2">
<h2 class="hasAnchor">
<a href="#process-overview" class="anchor"></a>Process overview</h2>
<p>Data preparation process consists of 2 parts:</p>
<ol style="list-style-type: decimal">
<li>
<strong>unify local data</strong> - prepare local loanbook data for processing;</li>
<li>
<strong>obtain global data</strong> in proper format.</li>
</ol>
<p>Process overview is represented in below diagram.</p>
<div class="figure">
<img src="diagram-data-preparation.png" alt="Data preparation process"><p class="caption">Data preparation process</p>
</div>
<p>As a result of local data unification process local loanbook should contain attributes in a standard format. Obtained global data should also be standardized. Below you will find detailed description.</p>
</div>
<div id="loanbook-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#loanbook-structure" class="anchor"></a>Loanbook structure</h2>
<p><em>It is responsibility of institution to produce loanbook dataset of correct structure.</em></p>
<p>After completion of <strong>unify local data</strong> process there should be loanbook produced with a set of standard attributes of a specified format. It still can contain all original attributes (no restrictions) among standard ones. Level of granularity for local data should be contract level. Required atrtributes and their purpose are described in below table.</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="74%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Reporting Date</td>
<td>Reporting date in <code>YYYY-MM-DD</code> format; defines point in time described by orther data</td>
</tr>
<tr class="even">
<td>Loan Size</td>
<td>Loan Size, charateristic that includes unused limit, available for withdrawal and current outstanding</td>
</tr>
<tr class="odd">
<td>Outstanding</td>
<td>Current contract outstanding</td>
</tr>
<tr class="even">
<td>Credit Limit</td>
<td>Original credit limit</td>
</tr>
<tr class="odd">
<td>Maturity Date</td>
<td>Maturity date of contract - when it is expected to be repayed</td>
</tr>
<tr class="even">
<td>Sector Classification</td>
<td>Sector classification according to 2Dii (see Appendix)</td>
</tr>
<tr class="odd">
<td><em>Asset ID</em></td>
<td><em>Value that identifies asset which is funded by loan. It can be internal code or number or even name.</em></td>
</tr>
<tr class="even">
<td><em>Asset Name</em></td>
<td><em>Name of Asset</em></td>
</tr>
<tr class="odd">
<td>Borrower ID</td>
<td>Value that identifies Borrower. It can be internal code or number or even name. It is up to institution to decide what value to use, but value must porsent</td>
</tr>
<tr class="even">
<td>Borrower Name</td>
<td>Name of Borrower - party that receives loan from institution</td>
</tr>
<tr class="odd">
<td>Borrower Country</td>
<td>Country Name (not code) of residence (or incorproration)?</td>
</tr>
<tr class="even">
<td>Borrower NAICS</td>
<td>Borrower’s 6-digit NAICS industry code</td>
</tr>
<tr class="odd">
<td>Borrower NAICS Description</td>
<td>NAICS economic activity description</td>
</tr>
<tr class="even">
<td><em>LUP ID</em></td>
<td><em>Legal Ultimate Parent (L.U.P.) ID</em></td>
</tr>
<tr class="odd">
<td><em>LUP Name</em></td>
<td><em>Legal Ultimate Parent (L.U.P.) name</em></td>
</tr>
<tr class="even">
<td><em>LUP Country</em></td>
<td><em>Legal Ultimate Parent (L.U.P.) Country name</em></td>
</tr>
<tr class="odd">
<td><em>EUP ID</em></td>
<td><em>Economic Ultimate Parent (E.U.P.) ID</em></td>
</tr>
<tr class="even">
<td><em>EUP Name</em></td>
<td><em>Economic Ultimate Parent (E.U.P.) name</em></td>
</tr>
<tr class="odd">
<td><em>EUP Country</em></td>
<td><em>Economic Ultimate Parent (E.U.P.) Country name</em></td>
</tr>
</tbody>
</table>
<p>Attributes listed above must present in a data set as a result of local data preparation. Attributes which names are written in <em>italic</em> are optional and may contain empty values.</p>
</div>
<div id="deriving-sector-classification" class="section level2">
<h2 class="hasAnchor">
<a href="#deriving-sector-classification" class="anchor"></a>Deriving Sector Classification</h2>
<p>One can derive value for <code>Sector Classification</code> attribute of loanbook based on given industry codes and set of rules. There is specific function <code><a href="../../reference/convert.naics2sc.html">convert.naics2sc(naics, rules)</a></code> that can analyze NAICS code(s) and based on rules from <code>naics2sc.rules</code> return Sector Clsassification(s) as a result.</p>
</div>
<div id="global-data-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#global-data-structure" class="anchor"></a>Global data structure</h2>
<p>Global data includes following references, forecasts, scenarios. Overview of data entities is given below.</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="74%">
</colgroup>
<thead><tr class="header">
<th>File</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>ald-asset.csv</td>
<td>Information about assets and their owners</td>
</tr>
<tr class="even">
<td>ald-value.csv</td>
<td>Information about values associated with assets (e.g. capacity by years)</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>Global data is coming in processing-compatible format.</p>
</div>
<div id="result" class="section level2">
<h2 class="hasAnchor">
<a href="#result" class="anchor"></a>Result</h2>
<p>As a result of this process all data should be collected for further processing.</p>
</div>
<div id="appendices" class="section level2">
<h2 class="hasAnchor">
<a href="#appendices" class="anchor"></a>Appendices</h2>
</div>
<div id="appendix-1--sector-classification" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix-1--sector-classification" class="anchor"></a>Appendix 1. Sector Classification</h2>
<p>Sector is a taxonomy for economic activities funded with loans. This classification includes:</p>
<table class="table">
<thead><tr class="header">
<th>Sector classification</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Automotive</td>
<td>Automotive - cars and trucks production</td>
</tr>
<tr class="even">
<td>Aviation</td>
<td>Transportation - Aviation</td>
</tr>
<tr class="odd">
<td>Cement</td>
<td>Cement &amp; Other Building Materials</td>
</tr>
<tr class="even">
<td>Fossil fuels</td>
<td>Oil and Gas upstream; Coal mining</td>
</tr>
<tr class="odd">
<td>Power</td>
<td>Electricity generation</td>
</tr>
<tr class="even">
<td>Shipping</td>
<td>Transportation - Shipping</td>
</tr>
<tr class="odd">
<td>Steel</td>
<td>Steel production</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#process-overview">Process overview</a></li>
      <li><a href="#loanbook-structure">Loanbook structure</a></li>
      <li><a href="#deriving-sector-classification">Deriving Sector Classification</a></li>
      <li><a href="#global-data-structure">Global data structure</a></li>
      <li><a href="#result">Result</a></li>
      <li><a href="#appendices">Appendices</a></li>
      <li><a href="#appendix-1--sector-classification">Appendix 1. Sector Classification</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Klaus Hogedorn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
